<!DOCTYPE html>
<html class="no-js" lang="en-US"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>How to deprecate code in WordPress – Juan José González</title><link rel="dns-prefetch" href="//www.googletagmanager.com"><link rel="dns-prefetch" href="//s.w.org"><meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1"><link rel="stylesheet" id="wp-block-library-css" href="https://juagonala.com/wp-includes/css/dist/block-library/style.css" media="all"><link rel="stylesheet" id="twentytwenty-style-css" href="https://juagonala.com/wp-content/themes/twentytwenty/style.css" media="all"><style id="twentytwenty-style-inline-css">
.color-accent,.color-accent-hover:hover,.color-accent-hover:focus,:root .has-accent-color,.has-drop-cap:not(:focus):first-letter,.wp-block-button.is-style-outline,a { color: #4172dc; }blockquote,.border-color-accent,.border-color-accent-hover:hover,.border-color-accent-hover:focus { border-color: #4172dc; }button,.button,.faux-button,.wp-block-button__link,.wp-block-file .wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.bg-accent,.bg-accent-hover:hover,.bg-accent-hover:focus,:root .has-accent-background-color,.comment-reply-link { background-color: #4172dc; }.fill-children-accent,.fill-children-accent * { fill: #4172dc; }:root .has-background-color,button,.button,.faux-button,.wp-block-button__link,.wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.wp-block-button,.comment-reply-link,.has-background.has-primary-background-color:not(.has-text-color),.has-background.has-primary-background-color *:not(.has-text-color),.has-background.has-accent-background-color:not(.has-text-color),.has-background.has-accent-background-color *:not(.has-text-color) { color: #ffffff; }:root .has-background-background-color { background-color: #ffffff; }body,.entry-title a,:root .has-primary-color { color: #000000; }:root .has-primary-background-color { background-color: #000000; }cite,figcaption,.wp-caption-text,.post-meta,.entry-content .wp-block-archives li,.entry-content .wp-block-categories li,.entry-content .wp-block-latest-posts li,.wp-block-latest-comments__comment-date,.wp-block-latest-posts__post-date,.wp-block-embed figcaption,.wp-block-image figcaption,.wp-block-pullquote cite,.comment-metadata,.comment-respond .comment-notes,.comment-respond .logged-in-as,.pagination .dots,.entry-content hr:not(.has-background),hr.styled-separator,:root .has-secondary-color { color: #6d6d6d; }:root .has-secondary-background-color { background-color: #6d6d6d; }pre,fieldset,input,textarea,table,table *,hr { border-color: #dbdbdb; }caption,code,code,kbd,samp,.wp-block-table.is-style-stripes tbody tr:nth-child(odd),:root .has-subtle-background-background-color { background-color: #dbdbdb; }.wp-block-table.is-style-stripes { border-bottom-color: #dbdbdb; }.wp-block-latest-posts.is-grid li { border-top-color: #dbdbdb; }:root .has-subtle-background-color { color: #dbdbdb; }body:not(.overlay-header) .primary-menu > li > a,body:not(.overlay-header) .primary-menu > li > .icon,.modal-menu a,.footer-menu a, .footer-widgets a,#site-footer .wp-block-button.is-style-outline,.wp-block-pullquote:before,.singular:not(.overlay-header) .entry-header a,.archive-header a,.header-footer-group .color-accent,.header-footer-group .color-accent-hover:hover { color: #4172dc; }.social-icons a,#site-footer button:not(.toggle),#site-footer .button,#site-footer .faux-button,#site-footer .wp-block-button__link,#site-footer .wp-block-file__button,#site-footer input[type="button"],#site-footer input[type="reset"],#site-footer input[type="submit"] { background-color: #4172dc; }.social-icons a,body:not(.overlay-header) .primary-menu ul,.header-footer-group button,.header-footer-group .button,.header-footer-group .faux-button,.header-footer-group .wp-block-button:not(.is-style-outline) .wp-block-button__link,.header-footer-group .wp-block-file__button,.header-footer-group input[type="button"],.header-footer-group input[type="reset"],.header-footer-group input[type="submit"] { color: #ffffff; }#site-header,.footer-nav-widgets-wrapper,#site-footer,.menu-modal,.menu-modal-inner,.search-modal-inner,.archive-header,.singular .entry-header,.singular .featured-media:before,.wp-block-pullquote:before { background-color: #ffffff; }.header-footer-group,body:not(.overlay-header) #site-header .toggle,.menu-modal .toggle { color: #000000; }body:not(.overlay-header) .primary-menu ul { background-color: #000000; }body:not(.overlay-header) .primary-menu > li > ul:after { border-bottom-color: #000000; }body:not(.overlay-header) .primary-menu ul ul:after { border-left-color: #000000; }.site-description,body:not(.overlay-header) .toggle-inner .toggle-text,.widget .post-date,.widget .rss-date,.widget_archive li,.widget_categories li,.widget cite,.widget_pages li,.widget_meta li,.widget_nav_menu li,.powered-by-wordpress,.to-the-top,.singular .entry-header .post-meta,.singular:not(.overlay-header) .entry-header .post-meta a { color: #6d6d6d; }.header-footer-group pre,.header-footer-group fieldset,.header-footer-group input,.header-footer-group textarea,.header-footer-group table,.header-footer-group table *,.footer-nav-widgets-wrapper,#site-footer,.menu-modal nav *,.footer-widgets-outer-wrapper,.footer-top { border-color: #dbdbdb; }.header-footer-group table caption,body:not(.overlay-header) .header-inner .toggle-wrapper::before { background-color: #dbdbdb; }
</style><link rel="stylesheet" id="twentytwenty-print-style-css" href="https://juagonala.com/wp-content/themes/twentytwenty/print.css" media="print"><script src="https://juagonala.com/wp-content/themes/twentytwenty/assets/js/index.js" id="twentytwenty-js-js" async></script><script src="https://www.googletagmanager.com/gtag/js?id=UA-170106444-1" id="google_gtagjs-js" async></script><script id="google_gtagjs-js-after">
window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('set', 'developer_id.dZTNiMT', true);
gtag('config', 'UA-170106444-1', {"anonymize_ip":true} );
</script><meta name="generator" content="Site Kit by Google 1.23.0"><script>document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );</script><meta name="description" content="Learn how to deprecate the legacy code in WordPress and keep backward compatibility with older versions of your plugin, theme, or WooCommerce extension."><meta property="og:title" content="How to deprecate code in WordPress – Juan José González"><meta property="og:type" content="article"><meta property="og:description" content="Learn how to deprecate the legacy code in WordPress and keep backward compatibility with older versions of your plugin, theme, or WooCommerce extension."><meta property="og:url" content="https://juagonala.com/how-to-deprecate-code-in-wordpress/"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="Juan José González"><meta property="article:published_time" content="2020-12-29T16:51:04+00:00"><meta property="article:modified_time" content="2020-12-29T16:54:01+00:00"><meta property="og:updated_time" content="2020-12-29T16:54:01+00:00"><meta property="article:section" content="Coding"><meta property="article:tag" content="backward-compatibility"><meta property="article:tag" content="best-practices"><meta property="article:tag" content="deprecated-code"><meta property="article:tag" content="legacy-code"><meta name="twitter:card" content="summary_large_image"><style id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style><style id="wp-custom-css">
			.post-author.meta-wrapper,
.author-bio .author-link,
.powered-by-wordpress {
	display: none;
}

.syntaxhighlighter {
	border-radius: 3px;
	padding: 1.2rem;
}

.syntaxhighlighter .line {
	font-size: 14px !important;
}

.syntaxhighlighter.line-break .line {
	white-space: initial !important;
}

.syntaxhighlighter table tbody td.gutter .line {
	padding-left: 0 !important;
}
.syntaxhighlighter table .gutter + .code .line {
	padding: 0 0.5em !important;
}

@media (min-width: 700px) {
	h1, .heading-size-1,
	h2.entry-title {
		font-size: 6rem;
	}

	h2, .heading-size-2 {
		font-size: 4rem;
	}

	h3, .heading-size-3 {
		font-size: 3.4rem;
	}
	
	.syntaxhighlighter .line {
		font-size: 16px !important;
	}
}

@media (min-width: 1220px) {
	h1, .heading-size-1 {
		font-size: 6rem;
	}
}		</style></head><body class="post-template-default single single-post postid-125 single-format-standard custom-background wp-embed-responsive singular missing-post-thumbnail has-single-pagination showing-comments show-avatars footer-top-visible reduced-spacing">

		<a class="skip-link screen-reader-text" href="#site-content">Skip to the content</a>
		<header id="site-header" class="header-footer-group" role="banner"><div class="header-inner section-inner">

				<div class="header-titles-wrapper">

					
					<div class="header-titles">

						<div class="site-title faux-heading"><a href="https://juagonala.com/">Juan José González</a></div><div class="site-description">WordPress & WooCommerce developer</div>
					</div>

					<button class="toggle nav-toggle mobile-nav-toggle" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".close-nav-toggle">
						<span class="toggle-inner">
							<span class="toggle-icon">
								<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="26" height="7" viewbox="0 0 26 7"><path fill-rule="evenodd" d="M332.5,45 C330.567003,45 329,43.4329966 329,41.5 C329,39.5670034 330.567003,38 332.5,38 C334.432997,38 336,39.5670034 336,41.5 C336,43.4329966 334.432997,45 332.5,45 Z M342,45 C340.067003,45 338.5,43.4329966 338.5,41.5 C338.5,39.5670034 340.067003,38 342,38 C343.932997,38 345.5,39.5670034 345.5,41.5 C345.5,43.4329966 343.932997,45 342,45 Z M351.5,45 C349.567003,45 348,43.4329966 348,41.5 C348,39.5670034 349.567003,38 351.5,38 C353.432997,38 355,39.5670034 355,41.5 C355,43.4329966 353.432997,45 351.5,45 Z" transform="translate(-329 -38)"></path></svg></span>
							<span class="toggle-text">Menu</span>
						</span>
					</button>

				</div>

				<div class="header-navigation-wrapper">

					
							<nav class="primary-menu-wrapper" aria-label="Horizontal" role="navigation"><ul class="primary-menu reset-list-style"><li id="menu-item-41" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-41"><a href="https://juagonala.com/about/">About</a></li>

								</ul></nav></div>

			</div>

			
		</header><div class="menu-modal cover-modal header-footer-group" data-modal-target-string=".menu-modal">

	<div class="menu-modal-inner modal-inner">

		<div class="menu-wrapper section-inner">

			<div class="menu-top">

				<button class="toggle close-nav-toggle fill-children-current-color" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".menu-modal">
					<span class="toggle-text">Close Menu</span>
					<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg></button>

				
					<nav class="mobile-menu" aria-label="Mobile" role="navigation"><ul class="modal-menu reset-list-style"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-41"><div class="ancestor-wrapper"><a href="https://juagonala.com/about/">About</a></div></li>

						</ul></nav></div>

			<div class="menu-bottom">

				
					<nav aria-label="Expanded Social links" role="navigation"><ul class="social-menu reset-list-style social-icons fill-children-current-color"><li id="menu-item-144" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-144"><a href="https://linkedin.com/in/juan-jose-gonzalez-alanis"><span class="screen-reader-text">LinkedIn</span><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg></a></li>
<li id="menu-item-143" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-143"><a href="https://github.com/juagonala"><span class="screen-reader-text">GitHub</span><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,2C6.477,2,2,6.477,2,12c0,4.419,2.865,8.166,6.839,9.489c0.5,0.09,0.682-0.218,0.682-0.484 c0-0.236-0.009-0.866-0.014-1.699c-2.782,0.602-3.369-1.34-3.369-1.34c-0.455-1.157-1.11-1.465-1.11-1.465 c-0.909-0.62,0.069-0.608,0.069-0.608c1.004,0.071,1.532,1.03,1.532,1.03c0.891,1.529,2.341,1.089,2.91,0.833 c0.091-0.647,0.349-1.086,0.635-1.337c-2.22-0.251-4.555-1.111-4.555-4.943c0-1.091,0.39-1.984,1.03-2.682 C6.546,8.54,6.202,7.524,6.746,6.148c0,0,0.84-0.269,2.75,1.025C10.295,6.95,11.15,6.84,12,6.836 c0.85,0.004,1.705,0.114,2.504,0.336c1.909-1.294,2.748-1.025,2.748-1.025c0.546,1.376,0.202,2.394,0.1,2.646 c0.64,0.699,1.026,1.591,1.026,2.682c0,3.841-2.337,4.687-4.565,4.935c0.359,0.307,0.679,0.917,0.679,1.852 c0,1.335-0.012,2.415-0.012,2.741c0,0.269,0.18,0.579,0.688,0.481C19.138,20.161,22,16.416,22,12C22,6.477,17.523,2,12,2z"></path></svg></a></li>

						</ul></nav></div>

		</div>

	</div>

</div>

<main id="site-content" role="main"><article class="post-125 post type-post status-publish format-standard hentry category-coding tag-backward-compatibility tag-best-practices tag-deprecated-code tag-legacy-code" id="post-125"><header class="entry-header has-text-align-center header-footer-group"><div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">Categories</span>
				<div class="entry-categories-inner">
					<a href="https://juagonala.com/category/coding/" rel="category tag">Coding</a>				</div>
			</div>

			<h1 class="entry-title">How to deprecate code in WordPress</h1>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta"><li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Post author</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg></span>
						<span class="meta-text">
							By <a href="#">Juan José</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Post date</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg></span>
						<span class="meta-text">
							<a href="https://juagonala.com/how-to-deprecate-code-in-wordpress/">December 29, 2020</a>
						</span>
					</li>
					
			</ul></div>

		
	</div>

</header><div class="post-inner thin ">

		<div class="entry-content">

			
<p>The codebase of a project is in continuous evolution. We add new features, fix issues, and at some point in the development, we found that some code we wrote in the past is no longer necessary.  Under this situation, we may have the temptation of removing this piece of code, but is it right?</p>



<span id="more-125"></span>



<p>Well, it depends. If we are working on a development for a specific client, let’s say a corporate site, a WooCommerce store, or a more complex application where the production environment is well known and no one can modify our deployed code, then we can remove this obsolete code without worrying about breaking the backward compatibility.</p>



<p>By contrast, if we are developing a product that is used by many users in different ways and environments, then we have to be very careful with the changes we include and the code we remove. Otherwise, we might break things.</p>



<p>This aspect is especially important in WordPress, where the combinations of plugins, themes, and server configurations are practically infinite. Besides, we have to consider the possibility that the user has included customizations for your product thanks to the extensibility of WordPress with the usage of hooks.</p>



<p>In conclusion:</p>



<blockquote class="wp-block-quote"><p>If we are working on a WordPress plugin, theme, or a WooCommerce extension, we cannot just remove the obsolete code, we need to deprecate it.</p></blockquote>



<p>Deprecating code is the proper way to tell the users, normally developers, to stop using a specific function, method or argument because this piece of code is obsolete and it’s going to be removed from the codebase in future releases. Optionally, you can provide an alternative, if exists.</p>



<p>Now we have learnt the importance of deprecating the legacy code in our projects, let’s see how to do it:</p>



<h2>Deprecating a function</h2>



<p>Let’s start with something easy. We have a function that isn’t necessary anymore.</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * This function was very important in the past.
 *
 * @since 1.0.0
 *
 * @return string
 */
function my_plugin_old_function() {
    $something = '';

    // ...

    return $something;
}
</pre>


<p>We can see some interesting aspects of this function. We know when it was introduced (version 1.0.0) and that it always returns a string as result.</p>



<p>One important thing to take into consideration when deprecating a function, and any code in general, is to keep the behavior untouched. That means the function, although deprecated, must go on doing the same task than before (if possible).</p>



<p>Our function has worked well all this time, but it’s the moment to deprecate it.</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * This function was very important in the past.
 *
 * @since 1.0.0
 * @deprecated 1.1.0
 *
 * @return string
 */
function my_plugin_old_function() {
    _deprecated_function( __FUNCTION__, '1.1.0', 'my_plugin_new_function' );

    return my_plugin_new_function();
}
</pre>


<p>Let’s diggest the introduced changes. First of all, we have added the tag <code>@deprecated</code> in the documentation of the function. This is the proper way to document when this function was deprecated.</p>



<p>Additionally, if you are using an IDE, you might see the calls to this function like this <s><code>my_plugin_old_function()</code></s>. This feature is really helpful while you are writing code because you can see clearly that something is wrong with this function.</p>



<p>But this tag by itself doesn’t prevent the usage of the function and it doesn’t trigger any warning on calling it. Here is where the function <code>_deprecated_function()</code> enters into action.</p>



<p>By including the function <code>_deprecated_function()</code> at the beginning of the code, we are triggering a warning every time the function is called.</p>



<p><strong>Note:</strong> The function <code>_deprecated_function()</code> is defined in the WordPress core. You can find more helper functions like this in the WordPress file <a href="https://github.com/WordPress/WordPress/blob/fa83e92c76c898ee62683ad83c1cf6be097aa000/wp-includes/functions.php#L4828" data-type="URL" data-id="https://github.com/WordPress/WordPress/blob/fa83e92c76c898ee62683ad83c1cf6be097aa000/wp-includes/functions.php#L4828" target="_blank" rel="noreferrer noopener">wp-includes/functions.php</a>.</p>



<p>Great, now we have our log full of warnings for using a deprecated function. How can I fix that? The answer is simple, stop using this function.</p>



<p>We need to know we are calling to a deprecated function and where. Here the importance of properly filling the parameters of <code>_deprecated_function()</code>.</p>



<p>The first parameter is to indicate what function is deprecated. We can use the constant <code>__FUNCTION__</code> to avoid writing the function name manually.</p>



<p>The second parameter indicates the version in which the function was deprecated, and the third parameter, which it’s optional, the function that replaces the old one (If there is a replacement).</p>



<p>Finally, the deprecated function calls to the new function to accomplish its functionality. Remember the function should continue working like before.</p>



<p><strong>Note:</strong> The process is the same when we are deprecating the method of a class.</p>



<h2>Deprecating an argument</h2>



<p>When we want to deprecate an argument of a function or method, the process is slightly different.</p>



<p>Let see an example:</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * Short description.
 *
 * @since 1.0.0
 *
 * @param mixed $arg_1 The first argument.
 * @param mixed $arg_2 The second argument.
 */
function my_plugin_function( $arg_1, $arg_2 ) {
    // ...
}
</pre>


<p>Now, let’s deprecate the second argument.</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * Short description.
 *
 * @since 1.0.0
 * @since 1.1.0 Deprecated `$arg_2`.
 *
 * @param mixed $arg_1      The first argument.
 * @param mixed $deprecated Deprecated.
 */
function my_plugin_function( $arg_1, $deprecated = null ) {
    if ( ! is_null( $deprecated ) ) {
        _deprecated_argument('arg_2', '1.1.0', 'Passing arg_2 to my_plugin_function is deprecated.' );
    }

    // ...
}
</pre>


<p>The first difference between deprecating a function and deprecating an argument is that in the second we don’t use the tag <code>@deprecated</code>. Obviously, we cannot use it because the function is still valid. We are deprecating one of its arguments only.</p>



<p>Instead, we add another <code>@since</code> tag to the documentation of the function. This is a good practice. Every time we introduce important changes to the behavior of a function or method, we should add a <code>@since</code> tag to log when these changes were introduced. In our case, we log that the argument <code>$arg_2</code> was deprecated in version 1.1.0.</p>



<p>The second change we notice is that we have renamed the argument from <code>$arg_2</code> to <code>$deprecated</code>. This step is not mandatory, but it’s especially useful when using an IDE. For example, in PHPStorm you can preview the name of the arguments when calling a function. So, if you see that an argument is named “deprecated”, you know quickly you should ignore it.</p>



<p><strong>Warning:</strong> If you are working with PHP 8+, don’t rename the arguments or you could break things due to the <a rel="noreferrer noopener" href="https://wiki.php.net/rfc/named_params" data-type="URL" data-id="https://wiki.php.net/rfc/named_params" target="_blank">Named Arguments</a> feature.</p>



<p>For the third change, we have set the default value of the second argument to <code>null</code>. This way, we can remove it from the calls to this function.</p>



<p>Finally, we check when this argument is used and trigger a warning with the function <code>_deprecated_argument()</code>. Another WordPress function to help us to deprecate code.</p>



<p>The arguments for this function are:</p>



<ul><li>The name of the deprecated argument.</li><li>The version in which this change was introduced.</li><li>A message to indicate what we are doing wrong.</li></ul><p><strong>Note:</strong> If we would like to deprecate the first parameter, the process would be the same. But don’t make it optional! Required parameters after optional parameters are not allowed in PHP 8 or higher.</p>



<p>A different situation is when we want to modify the accepted values for an argument. In this case, we need to make use of the function  <code>_doing_it_wrong()</code>.</p>



<p>Suppose we have an argument that used to accept a string and an array as value. Now, we want to accept an array only. So, we can do the following:</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * Short description.
 *
 * @since 1.0.0
 * @since 1.1.0 The argument `$arg_1` only accepts an array as a value.
 *
 * @param array $arg_1 The first argument.
 */
function my_plugin_function( $arg_1 ) {
    if ( ! is_array( $arg_1 ) ) {
       _doing_it_wrong( __FUNCTION__, '1.1.0', 'The argument $arg_1 must be an array.' );

       $arg_1 = array( $arg_1 );
    }

    // ...
}
</pre>


<p><strong>Note:</strong> The accepted arguments by the function <code>_doing_it_wrong()</code> are the same as the function <code>_deprecated_function()</code>.</p>



<p>Now that we have learnt how to deprecate a function/method argument. Let’s continue with something a bit more complex.</p>



<h2>Deprecating an object property</h2>



<p>This time, we’re going to deprecate the property of an object. The best way to learn how to do it is with an example:</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * Short description.
 *
 * @since 1.0.0
 */
class My_Plugin_Class {
  
    /**
     * A class property.
     *
     * @var string
     */
    public $property_1 = '';

    // ...
}
</pre>


<p>In this class, we have a public property called <code>$property_1</code>. That means developers can do things like that:</p>


<pre class="brush: php; title: ; notranslate" title="">
$plugin_class = new My_Plugin_Class();

// Directly set the property value.
$plugin_class-&gt;property_1 = 'Foo';

// Directly access the property value.
echo $plugin_class-&gt;property_1;
</pre>


<p>If we want to remove this property or change its visibility to <code>protected</code>. We cannot just do that or we’ll break things. We have to keep the backward compatibility with this property. Here is how to proceed:</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * Class description.
 *
 * @since 1.0.0
 */
class My_Plugin_Class {
  
    /**
     * A class property.
     *
     * @var string
     */
    protected $property_1 = '';

    /**
      * Auto-load in-accessible properties on demand.
      *
      * @since 1.1.0
      *
      * @param mixed $key Key name.
      * @return mixed
      */
      public function __get( $key ) {
          if ( 'property_1' === $key ) {
              _doing_it_wrong( 'My_Plugin_Class-&gt;property_1', '1.1.0', 'This property is no longer available. Use the method My_Plugin_Class-&gt;get_property_1() instead.' );

             return $this-&gt;get_property_1();
         }
    }

    // ...
}
</pre>


<p>There are a lot of things to explain here. First of all, we have changed the visibility of <code>$property_1</code> to <code>protected</code>. We could also remove this property if we don’t need it anymore.</p>



<p>Next, we have made use of the magic method <code>__get()</code>. This method belongs to a set of “magic” methods that are available in PHP for implementing the technique of  <a rel="noreferrer noopener" href="https://www.php.net/manual/en/language.oop5.overloading.php" data-type="URL" data-id="https://www.php.net/manual/en/language.oop5.overloading.php" target="_blank">Overloading</a>. As a resume, this method is called to process properties that are not defined or aren’t visible.</p>



<p>As we have changed the visibility of <code>$property_1</code> to <code>protected</code>, the method <code>__get()</code> will be called when we’ll try to access this property directly.</p>



<p>And in the method <code>__get()</code> is where the magic happens. Its first parameter is the name of the property we are trying to access, so we only have to catch this event and trigger our <code>_doing_it_wrong()</code> method.</p>



<p>Additionally, we have to return the expected value for this parameter in order to keep the backward compatibility.</p>



<p>The same technique is applied for setting the property value, but we need to use the magic method <code>__set()</code>.</p>



<h2>Deprecating WordPress hooks</h2>



<p>Until now, we’ve seen how to deal with obsolete PHP code in general, but it’s time to see some WordPress specific elements. I’m talking about hooks.</p>



<p><a rel="noreferrer noopener" href="https://developer.wordpress.org/plugins/hooks/" data-type="URL" data-id="https://developer.wordpress.org/plugins/hooks/" target="_blank">Hooks</a> (filters and actions) is an essential part of the WordPress core and is what makes it so extensible and customizable.</p>



<p>When we develop a WordPress plugin or theme, we can add custom filters and actions to allow other developers to modify the behavior of our product or expand it with new features.</p>



<p>It’s very important to take our time thinking about the hooks we’re going to introduce in our code because, as you might have guessed reading this post, we have to maintain them too. We need to make our best to keep the backward compatibility with our hooks every time we modify or remove them.</p>



<p>Have you said to remove them? Yes, but this should happen in future releases, before that, we need to deprecate them. Let’s see how to do it:</p>


<pre class="brush: php; title: ; notranslate" title="">
/**
 * Fired when action X happens.
 *
 * @since 1.0.0
 *
 * @param $param_1 The first parameter.
 */
do_action( 'my_custom_action', $param_1 );
</pre>


<p>In our example, we have an action hook that is triggered at some point in our code. We’ve decided that this hook is obsolete and no longer necessary.</p>


<pre class="brush: php; title: ; notranslate" title="">
if ( has_action( 'my_custom_action' ) ) {
    _deprecated_hook( 'my_custom_action', '1.1.0', 'my_new_custom_action', 'The my_custom_action action is deprecated' );

    /**
     * Fired when action X happens.
     *
     * @since 1.0.0
     * @deprecated 1.1.0
     *
     * @param $param_1 The first parameter.
     */
     do_action( 'my_custom_action', $param_1 );
}
</pre>


<p>The code for deprecating things starts being familiar to us. Here we use the function <code>_deprecated_hook()</code>, although we could use the function <code>_doing_it_wrong()</code> too, we also add the tag <code>@deprecated</code> in the docblock of the hook. Both elements have already been seen in this post or are self-explained, so I’m going to skip them.</p>



<p>What it’s new is the function <code>has_action()</code>. Thanks to this function included in the WordPress core, we can know if there is any callback registered for this action hook, and in case of true, we execute our deprecated action to keep backward compatibility.</p>



<p>As you might have guessed, there is a similar function for filter hooks called <code>has_filters()</code>.</p>



<p><strong>Note:</strong> In reality, the function <code>has_action()</code> is an alias of <code>has_filter()</code> because, in the end, all WordPress hooks are filters! An action is nothing more than a filter that returns <code>void</code>,</p>



<h2>WooCommerce helper functions</h2>



<p>Finally, I would like to make a special mention of some helper functions included in the WooCommerce core that are really useful when we are working with this e-commerce plugin.</p>



<p>I’m talking about the functions <code>wc_deprecated_function()</code>, <code>wc_doing_it_wrong()</code>, <code>wc_deprecated_argument()</code>, etc. You can find the complete list in the file <a rel="noreferrer noopener" href="https://github.com/woocommerce/woocommerce/blob/master/includes/wc-deprecated-functions.php" data-type="URL" data-id="https://github.com/woocommerce/woocommerce/blob/master/includes/wc-deprecated-functions.php" target="_blank">includes/wc-deprecated-functions.php</a>.</p>



<p>But what makes them so interesting? Well, if you take a look at their code, you will see that they are wrappers of the functions we have seen in this post, but changing their behavior when they are called during an AJAX or a REST API request. In these kinds of requests, the deprecation warning is logged but not triggered. By doing this, we avoid breaking the returned result. Good point for the WooCommerce team!</p>



<p>If you are developing a WooCommerce extension, I encourage you to use these functions. If not, you can still create similar functions in your project.</p>



<h2>In conclusion</h2>



<p>Dealing with obsolete code is part of our work as developers, and in this post, we have learnt some techniques to deprecate these pieces of code before removing them from our project definitely.</p>



<p>When to remove this legacy code and where to locate it meanwhile will be discussed in another post, this one is already long enough.</p>



<p>Thanks to the code deprecation, we can make our project grows at the same time we keep backward compatibility with older versions. Additionally, we create a smooth transition and give enough time to other developers to migrate and adapt their WordPress sites to the new changes.</p>



<p>Definitely, this is a vital aspect when we are creating a product that will be used by thousands of customers around the world. Because nobody wants a product that breaks things with each update. Isn’t it?</p>

		</div>

	</div>

	<div class="section-inner">
		
		<div class="post-meta-wrapper post-meta-single post-meta-single-bottom">

			<ul class="post-meta"><li class="post-tags meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">Tags</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewbox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z"></path></svg></span>
						<span class="meta-text">
							<a href="https://juagonala.com/tag/backward-compatibility/" rel="tag">backward-compatibility</a>, <a href="https://juagonala.com/tag/best-practices/" rel="tag">best-practices</a>, <a href="https://juagonala.com/tag/deprecated-code/" rel="tag">deprecated-code</a>, <a href="https://juagonala.com/tag/legacy-code/" rel="tag">legacy-code</a>						</span>
					</li>
					
			</ul></div>

		<div class="author-bio">
	<div class="author-title-wrapper">
		<div class="author-avatar vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/9d8309dcc7988651d272e719ec2d86ba?s=160&d=mm&r=g" srcset="https://secure.gravatar.com/avatar/9d8309dcc7988651d272e719ec2d86ba?s=320&d=mm&r=g 2x" class="avatar avatar-160 photo" height="160" width="160" loading="lazy"></div>
		<h2 class="author-title heading-size-4">
			By Juan José		</h2>
	</div>
	<div class="author-description">
		<p>Building amazing products for WordPress & WooCommerce since 2012.</p>
		<a class="author-link" href="#" rel="author">
			View Archive <span aria-hidden="true">→</span>		</a>
	</div>
</div>

	</div>

	
	<nav class="pagination-single section-inner only-one only-prev" aria-label="Post" role="navigation"><hr class="styled-separator is-style-wide" aria-hidden="true"><div class="pagination-single-inner">

			
				<a class="previous-post" href="https://juagonala.com/how-to-enable-php_codesniffer-in-phpstorm/">
					<span class="arrow" aria-hidden="true">←</span>
					<span class="title"><span class="title-inner">How to enable PHP_CodeSniffer in PhpStorm</span></span>
				</a>

				
		</div>

		<hr class="styled-separator is-style-wide" aria-hidden="true"></nav></article></main><div class="footer-nav-widgets-wrapper header-footer-group">

		<div class="footer-inner section-inner">

							<div class="footer-top has-social-menu">
										
						<nav aria-label="Social links" class="footer-social-wrapper"><ul class="social-menu footer-social reset-list-style social-icons fill-children-current-color"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-144"><a href="https://linkedin.com/in/juan-jose-gonzalez-alanis"><span class="screen-reader-text">LinkedIn</span><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-143"><a href="https://github.com/juagonala"><span class="screen-reader-text">GitHub</span><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,2C6.477,2,2,6.477,2,12c0,4.419,2.865,8.166,6.839,9.489c0.5,0.09,0.682-0.218,0.682-0.484 c0-0.236-0.009-0.866-0.014-1.699c-2.782,0.602-3.369-1.34-3.369-1.34c-0.455-1.157-1.11-1.465-1.11-1.465 c-0.909-0.62,0.069-0.608,0.069-0.608c1.004,0.071,1.532,1.03,1.532,1.03c0.891,1.529,2.341,1.089,2.91,0.833 c0.091-0.647,0.349-1.086,0.635-1.337c-2.22-0.251-4.555-1.111-4.555-4.943c0-1.091,0.39-1.984,1.03-2.682 C6.546,8.54,6.202,7.524,6.746,6.148c0,0,0.84-0.269,2.75,1.025C10.295,6.95,11.15,6.84,12,6.836 c0.85,0.004,1.705,0.114,2.504,0.336c1.909-1.294,2.748-1.025,2.748-1.025c0.546,1.376,0.202,2.394,0.1,2.646 c0.64,0.699,1.026,1.591,1.026,2.682c0,3.841-2.337,4.687-4.565,4.935c0.359,0.307,0.679,0.917,0.679,1.852 c0,1.335-0.012,2.415-0.012,2.741c0,0.269,0.18,0.579,0.688,0.481C19.138,20.161,22,16.416,22,12C22,6.477,17.523,2,12,2z"></path></svg></a></li>

							</ul></nav></div>

			
			
		</div>

	</div>


			<footer id="site-footer" role="contentinfo" class="header-footer-group"><div class="section-inner">

					<div class="footer-credits">

						<p class="footer-copyright">©
							2020							<a href="https://juagonala.com/">Juan José González</a>
						</p>

						<p class="powered-by-wordpress">
							<a href="https://wordpress.org/">
								Powered by WordPress							</a>
						</p>

					</div>

					<a class="to-the-top" href="#site-header">
						<span class="to-the-top-long">
							To the top <span class="arrow" aria-hidden="true">↑</span>						</span>
						<span class="to-the-top-short">
							Up <span class="arrow" aria-hidden="true">↑</span>						</span>
					</a>

				</div>

			</footer><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://juagonala.com/#website","url":"https://juagonala.com/","name":"Juan José González","potentialAction":{"@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#searchaction"},"publisher":{"@id":"https://juagonala.com/#organization"}},{"@type":"SearchAction","@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#searchaction","target":"https://juagonala.com/?s={search_term_string}","query-input":"required name=search_term_string"},{"@type":"BreadcrumbList","@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://juagonala.com/"},{"@type":"ListItem","position":2,"name":"Coding","item":"https://juagonala.com/category/coding/"}]},{"@type":"WebPage","@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#webpage","url":"https://juagonala.com/how-to-deprecate-code-in-wordpress","inLanguage":"en_US","name":"How to deprecate code in WordPress – Juan José González","description":"Learn how to deprecate the legacy code in WordPress and keep backward compatibility with older versions of your plugin, theme, or WooCommerce extension.","datePublished":"2020-12-29T16:51:04+00:00","dateModified":"2020-12-29T16:54:01+00:00","isPartOf":{"@id":"https://juagonala.com/#website"},"breadcrumb":{"@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#breadcrumbs"}},{"@type":"Organization","@id":"https://juagonala.com/#organization","url":"https://juagonala.com/","name":"Juan José González"},{"@type":"Article","@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#article","url":"https://juagonala.com/how-to-deprecate-code-in-wordpress","headline":"How to deprecate code in WordPress","datePublished":"2020-12-29T16:51:04+00:00","dateModified":"2020-12-29T16:54:01+00:00","wordCount":2338,"keywords":["backward-compatibility","best-practices","deprecated-code","legacy-code"],"articleSection":["Coding"],"isPartOf":{"@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#webpage"},"mainEntityOfPage":{"@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#webpage"},"publisher":{"@id":"https://juagonala.com/#organization"},"author":{"@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#author"}},{"@type":"Person","@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#author","url":"#","name":"Juan José","description":"Building amazing products for WordPress & WooCommerce since 2012.","givenName":"Juan José","familyName":"González Alanís","image":{"@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#author_image"}},{"@type":"ImageObject","@id":"https://juagonala.com/how-to-deprecate-code-in-wordpress#author_image","url":"https://secure.gravatar.com/avatar/9d8309dcc7988651d272e719ec2d86ba?s=96&d=mm&r=g","width":96,"height":96,"caption":"Juan José"}]}</script><script src="https://juagonala.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js" id="syntaxhighlighter-core-js"></script><script src="https://juagonala.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js" id="syntaxhighlighter-brush-php-js"></script><script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://juagonala.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://juagonala.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeMidnight.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.defaults['wrap-lines'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script><script>
	/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
	</script></body></html>
